# Paper Trading Configuration

# Polymarket WebSocket
polymarket:
  ws_endpoint: "wss://ws-subscriptions-clob.polymarket.com/ws/market"
  markets: []  # Add market asset IDs to track

# Binance price feeds
binance:
  symbols:
    - "BTCUSDT"
    - "ETHUSDT"
    - "SOLUSDT"
    - "XRPUSDT"

# Chainlink RTDS (optional - requires Polygon RPC)
chainlink:
  rpc_url: ""  # Set POLYGON_RPC_URL env var or configure here

# Supabase configuration
supabase:
  url: ""  # Set SUPABASE_URL env var or configure here
  api_key: ""  # Set SUPABASE_KEY env var or configure here

# Paper trading settings
paper:
  # Initial paper trading equity
  initial_equity: 10000.0

  # Strategy tick interval (how often to check market and process orders)
  tick_interval_ms: 100

  # Snapshot intervals
  equity_snapshot_interval_s: 60
  metrics_sync_interval_s: 60
  position_sync_interval_s: 10
  market_snapshot_interval_s: 5

  # Data persistence mode
  # use_shm: Write to SHM for Go service to persist (recommended)
  # use_direct_supabase: Python directly writes to Supabase (alternative)
  use_shm: true
  use_direct_supabase: true

  # Batching settings (for Go service)
  trade_batch_size: 50
  market_snapshot_batch_size: 100
  flush_interval_s: 5

# Risk settings
risk:
  max_position_per_asset: 1000.0
  max_total_exposure: 5000.0
  max_order_size: 100.0
  min_order_size: 1.0

# Strategy definitions
# Each strategy has a unique ID and its own quote/size model parameters
strategies:
  # Z-score based strategies with different parameters
  - id: "zs_t_df5_z3_rv"
    name: "ZScore T-dist df=5 z=3 RV"
    enabled: true
    assets: ["btc", "eth", "sol", "xrp"]
    timeframe: "15m"
    quote_model:
      type: "zscore"
      distribution: "t"
      t_df: 5
      z: 3
      vol_mode: "rv"  # realized volatility
      base_spread: 0.02
    size_model:
      type: "proportional"
      order_size_pct: 0.02
      max_position_pct: 0.20

  - id: "zs_t_df5_z3_iv"
    name: "ZScore T-dist df=5 z=3 IV"
    enabled: true
    assets: ["btc", "eth", "sol", "xrp"]
    timeframe: "15m"
    quote_model:
      type: "zscore"
      distribution: "t"
      t_df: 5
      z: 3
      vol_mode: "iv"  # implied volatility
      base_spread: 0.02
    size_model:
      type: "proportional"
      order_size_pct: 0.02
      max_position_pct: 0.20

  - id: "zs_t_df5_z1_rv"
    name: "ZScore T-dist df=5 z=1 RV"
    enabled: true
    assets: ["btc", "eth", "sol", "xrp"]
    timeframe: "15m"
    quote_model:
      type: "zscore"
      distribution: "t"
      t_df: 5
      z: 1
      vol_mode: "rv"
      base_spread: 0.02
    size_model:
      type: "proportional"
      order_size_pct: 0.02
      max_position_pct: 0.20

  - id: "zs_t_df5_z1_iv"
    name: "ZScore T-dist df=5 z=1 IV"
    enabled: true
    assets: ["btc", "eth", "sol", "xrp"]
    timeframe: "15m"
    quote_model:
      type: "zscore"
      distribution: "t"
      t_df: 5
      z: 1
      vol_mode: "iv"
      base_spread: 0.02
    size_model:
      type: "proportional"
      order_size_pct: 0.02
      max_position_pct: 0.20

  - id: "zs_t_df3_z3_rv"
    name: "ZScore T-dist df=3 z=3 RV"
    enabled: true
    assets: ["btc", "eth", "sol", "xrp"]
    timeframe: "15m"
    quote_model:
      type: "zscore"
      distribution: "t"
      t_df: 3
      z: 3
      vol_mode: "rv"
      base_spread: 0.02
    size_model:
      type: "proportional"
      order_size_pct: 0.02
      max_position_pct: 0.20

  - id: "zs_t_df3_z3_iv"
    name: "ZScore T-dist df=3 z=3 IV"
    enabled: true
    assets: ["btc", "eth", "sol", "xrp"]
    timeframe: "15m"
    quote_model:
      type: "zscore"
      distribution: "t"
      t_df: 3
      z: 3
      vol_mode: "iv"
      base_spread: 0.02
    size_model:
      type: "proportional"
      order_size_pct: 0.02
      max_position_pct: 0.20

  - id: "zs_t_df3_z1_rv"
    name: "ZScore T-dist df=3 z=1 RV"
    enabled: true
    assets: ["btc", "eth", "sol", "xrp"]
    timeframe: "15m"
    quote_model:
      type: "zscore"
      distribution: "t"
      t_df: 3
      z: 1
      vol_mode: "rv"
      base_spread: 0.02
    size_model:
      type: "proportional"
      order_size_pct: 0.02
      max_position_pct: 0.20

  - id: "zs_t_df3_z1_iv"
    name: "ZScore T-dist df=3 z=1 IV"
    enabled: true
    assets: ["btc", "eth", "sol", "xrp"]
    timeframe: "15m"
    quote_model:
      type: "zscore"
      distribution: "t"
      t_df: 3
      z: 1
      vol_mode: "iv"
      base_spread: 0.02
    size_model:
      type: "proportional"
      order_size_pct: 0.02
      max_position_pct: 0.20

  - id: "zs_t_df2.5_z3_rv"
    name: "ZScore T-dist df=2.5 z=3 RV"
    enabled: true
    assets: ["btc", "eth", "sol", "xrp"]
    timeframe: "15m"
    quote_model:
      type: "zscore"
      distribution: "t"
      t_df: 2.5
      z: 3
      vol_mode: "rv"
      base_spread: 0.02
    size_model:
      type: "proportional"
      order_size_pct: 0.02
      max_position_pct: 0.20

  - id: "zs_t_df2.5_z3_iv"
    name: "ZScore T-dist df=2.5 z=3 IV"
    enabled: true
    assets: ["btc", "eth", "sol", "xrp"]
    timeframe: "15m"
    quote_model:
      type: "zscore"
      distribution: "t"
      t_df: 2.5
      z: 3
      vol_mode: "iv"
      base_spread: 0.02
    size_model:
      type: "proportional"
      order_size_pct: 0.02
      max_position_pct: 0.20

  - id: "zs_t_df2.5_z1_rv"
    name: "ZScore T-dist df=2.5 z=1 RV"
    enabled: true
    assets: ["btc", "eth", "sol", "xrp"]
    timeframe: "15m"
    quote_model:
      type: "zscore"
      distribution: "t"
      t_df: 2.5
      z: 1
      vol_mode: "rv"
      base_spread: 0.02
    size_model:
      type: "proportional"
      order_size_pct: 0.02
      max_position_pct: 0.20

  - id: "zs_t_df2.5_z1_iv"
    name: "ZScore T-dist df=2.5 z=1 IV"
    enabled: true
    assets: ["btc", "eth", "sol", "xrp"]
    timeframe: "15m"
    quote_model:
      type: "zscore"
      distribution: "t"
      t_df: 2.5
      z: 1
      vol_mode: "iv"
      base_spread: 0.02
    size_model:
      type: "proportional"
      order_size_pct: 0.02
      max_position_pct: 0.20
